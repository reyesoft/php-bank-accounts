includes:
    # - ../../vendor/phpstan/phpstan-strict-rules/rules.neon
    - ../../vendor/phpstan/phpstan-phpunit/extension.neon
    - ../../vendor/phpstan/phpstan-phpunit/rules.neon
    - ../../vendor/nunomaduro/larastan/extension.neon

parameters:
    bootstrapFiles:
        - %rootDir%/../../nunomaduro/larastan/bootstrap.php
    paths:
        - ../../tests
    level: max
    ignoreErrors:
        ## phpstan 0.11 to 0.12
        - '#has no typehint specified\.$#'
        - '#has no return typehint specified\.$#'
        - '#with no typehint specified\.$#'
        - '#with no value type specified in iterable#'
        - '#has no value type specified in iterable#'
        # Related with https://github.com/phpstan/phpstan-mockery/issues/8
        - '#Mockery.*::andReturn.*#'
        - '#Call to an undefined method Mockery\\Expectation::shouldReceive.*#'
        - '#Call to an undefined method .+Mockery\\HigherOrderMessage::withArgs.*#'
        - '#Call to an undefined method .+HigherOrderTapProxy.*#'
        - '#Access to an undefined property.+Eloquent.+#'
        - '#Access to static property \$pending_fires on trait#'
        - '#Cannot call method expectsOutput\(\).+#'
    reportUnmatchedIgnoredErrors: true
